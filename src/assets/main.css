@tailwind base;
@tailwind components;
@tailwind utilities;

/* Seus utilitários como “component classes” do Tailwind */
@layer components {
  .btn-abyss {
    @apply relative overflow-hidden shadow-none transition;
  }
  .btn-abyss::before {
    content: "";
    position: absolute; inset: -120% -120% auto auto; width: 200%; height: 200%;
    background: conic-gradient(from 0deg, transparent, rgba(179,0,0,.18), transparent 30%);
    animation: abyss-spin 6s linear infinite; pointer-events: none;
  }

  .occult-card {
    @apply border border-red-900/25 transition;
    background-color: rgba(15,15,15,.9);
    box-shadow: 0 0 0 rgba(179,0,0,0);
    /* underscores -> espaços e “at”: */
    background-image: radial-gradient(1200px 600px at 50% -10%, rgba(179,0,0,.08), transparent 60%);
  }
  .occult-card:hover {
    @apply -translate-y-0.5 shadow-redsoft border-red-900/60;
    /* não use [transform:…] no @apply; escreva CSS normal: */
    transform: perspective(800px) rotateX(3deg) rotateY(-4deg);
  }
}

/* Animações globais */
@keyframes abyss-spin { to { transform: rotate(360deg) } }

/* Atmosfera (globais) */
:root { --red:#8b0000; --red2:#b30000; --ink:#0b0b0b; }
body { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><text y="22" x="3" font-size="24" fill="red">✠</text></svg>') 16 16, crosshair; }

.vignette:after{
  content:""; position:fixed; inset:0; pointer-events:none;
  box-shadow: inset 0 0 200px 120px rgba(0,0,0,.85);
  z-index:10;
}
.grain:before{
  content:""; position:fixed; inset:-10%;
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="1.2" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');
  opacity:.06; animation:grain 8s steps(10) infinite; z-index:11; pointer-events:none; mix-blend-mode:overlay;
}
@keyframes grain { 0%{transform:translate(0,0)} 100%{transform:translate(-7%,5%)} }

.fog, .fog:before, .fog:after{
  position:fixed; inset:-20%; pointer-events:none; z-index:2;
  background: radial-gradient(60% 40% at 20% 30%, rgba(200,0,0,.08), transparent 60%),
              radial-gradient(50% 35% at 80% 70%, rgba(255,255,255,.06), transparent 60%),
              radial-gradient(70% 50% at 50% 50%, rgba(120,0,0,.06), transparent 60%);
  filter: blur(30px);
  animation: drift 30s linear infinite;
}
.fog:before{ content:""; animation-duration: 55s; mix-blend-mode:screen; }
.fog:after{ content:""; animation-duration: 75s; mix-blend-mode:screen; }
@keyframes drift { 0%{transform:translate3d(0,0,0)} 50%{transform:translate3d(4%,-3%,0)} 100%{transform:translate3d(0,0,0)} }

.sigil{
  position:fixed; inset:0; z-index:0; opacity:.07; pointer-events:none;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,0,0,.2), transparent 35%),
    url('data:image/svg+xml;utf8,\
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">\
      <g fill="none" stroke="%23b30000" stroke-width="1.5" opacity="0.7">\
        <circle cx="50" cy="50" r="45"/>\
        <polygon points="50,7 64,38 96,38 70,58 80,90 50,72 20,90 30,58 4,38 36,38"/>\
      </g>\
    </svg>') center/520px 520px no-repeat;
  filter: drop-shadow(0 0 14px rgba(139,0,0,.35));
}

.blood-divider{
  position:relative; height:24px; background:linear-gradient(to bottom, var(--red2), transparent 70%);
  filter: drop-shadow(0 10px 10px rgba(179,0,0,.3));
}
.blood-divider:before, .blood-divider:after{
  content:""; position:absolute; top:0; width:14px; height:28px; background:var(--red2);
  border-bottom-left-radius:8px; border-bottom-right-radius:8px; animation:drip 6s ease-in-out infinite;
}
.blood-divider:before{ left:12%; animation-delay: .8s }
.blood-divider:after { left:72%; height:36px; animation-delay: 1.9s }
@keyframes drip { 0%,100%{transform:translateY(0)} 50%{transform:translateY(10px)} }

.candle{
  width:9px; height:18px; background:linear-gradient(#fff, #d4d4d4);
  position:relative; border-radius:2px; margin:0 6px;
  box-shadow:0 0 14px rgba(255,230,180,.35);
}
.candle:after{
  content:""; position:absolute; top:-10px; left:50%; transform:translateX(-50%);
  width:6px; height:10px; background:radial-gradient(closest-side, #ffd27a, #ff6b00 70%, transparent 71%);
  border-radius:50% 50% 45% 45%;
  animation:flame 1.1s infinite;
  filter:drop-shadow(0 0 8px #ff9a1a);
}

.glitch{
  position:relative; text-shadow:0 0 8px rgba(179,0,0,.45);
  animation:flicker 4s infinite;
}
.glitch:before, .glitch:after{
  content:attr(data-text); position:absolute; left:0; top:0; width:100%; overflow:hidden;
}
.glitch:before{ transform:translate(2px,0); clip-path:inset(0 0 55% 0); color:#ff1a1a; opacity:.7; animation:gl1 2s infinite; }
.glitch:after { transform:translate(-2px,0); clip-path:inset(45% 0 0 0); color:#a10000; opacity:.7; animation:gl2 2.3s infinite; }
@keyframes gl1{0%{transform:translate(1px,0)}50%{transform:translate(3px,-1px)}100%{transform:translate(1px,0)}}
@keyframes gl2{0%{transform:translate(-1px,0)}50%{transform:translate(-3px,1px)}100%{transform:translate(-1px,0)}}
@keyframes flicker{
  0%,18%,22%,25%,53%,57%,100% {opacity:1}
  20%,24%,55% {opacity:.9}
  21%,56% {opacity:.4}
}
